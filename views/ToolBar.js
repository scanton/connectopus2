(function() {
	var componentName = 'tool-bar';
	var s = `
		<div class="tool-bar side-bar">
			<ul class="categories text-center">
				<li class="selected show-home-link" title="Home" v-on:click="showHome">
					<span class="glyphicon glyphicon-home"></span>
				</li>
				<li class="show-connections-link" title="Connections" v-on:click="showConnections">
					<svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
						 viewBox="0 0 612 612" xml:space="preserve">
						<ellipse class="sgv-glyphicon" cx="304.9" cy="385" rx="98.9" ry="23.5"/>
						<g>
							<path class="sgv-glyphicon" d="M608.9,452.4c-6-16.4-33.1-36-59.8-43.1c-10.5-2.8-18.7-4-25.5-4c-7.4,0-12.8,1.7-16.4,4.8l-147.3-41.1
								l72.2-17.9c10.8,4,23.2,6.2,33.1,6.2c4.2,0,8.2-0.3,11.3-1.1c8.8-2.3,10.5-7.1,10.8-9.6c0.6-6.5-5.4-13.3-17.3-19
								c-12.5-6.2-28.9-10.2-42.2-10.2c-3.7,0-7.1,0.3-10.2,0.9c-8.2,1.7-10.8,5.7-11.6,8.8c-0.6,2-0.6,4.5,1.1,7.6l-42.2,9.9
								c7.1-15.3,13.9-35.7,13.9-58.7c0-0.8,0-1.4,0-2.3c0-0.6,0-1.1,0-1.7c0-5.4-0.6-11.1-1.4-16.1c-2-11.6-5.7-21.3-11.6-29.2
								c-13.6-21.8-36.5-34.8-60.6-34.8l0,0l0,0c-24.6,0-47.3,13-61.2,34.6c-5.9,7.9-9.6,17.3-11.6,29.2c-1.1,5.4-1.4,10.8-1.4,16.2
								c0,0.6,0,1.1,0,1.7c0,0.9,0,1.4,0,2.3c0,22.7,6.8,43.1,13.9,58.7l-42.2-9.9c1.7-3.1,1.7-5.7,1.1-7.6c-0.9-3.1-3.4-6.8-11.6-8.8
								c-2.8-0.6-6.2-0.9-10.2-0.9c-13.3,0-30,4-42.2,10.2c-11.9,5.9-17.8,12.8-17.3,19c0.3,2.5,2,7.4,10.8,9.6c3.1,0.9,7.1,1.1,11.3,1.1
								c9.9,0,22.4-2.3,33.2-6.2l72.5,18.1l-147.3,41.1c-3.7-3.4-9.1-4.8-16.4-4.8c-6.5,0-15,1.4-25.5,4C34.3,416.1,6.8,436,1.1,452.4
								c-2.3,6.2-0.6,10.5,1.1,13c3.7,5.4,11.6,8.2,22.9,8.2c7.9,0,17.6-1.4,27.5-4.2c23.2-6.5,44.8-19.3,54.1-31.7l164.3-46.2l-93.2,102
								c-23.8,3.1-49.9,15.9-66.9,33.4c-14.4,14.5-20.4,30-16.4,42.2c3.1,9.3,11.9,15.9,24.7,18.1c3.4,0.6,6.8,0.8,10.5,0.8l0,0
								c28.9,0,64.6-17.8,83-41.4c8.8-11.3,12.5-23,10.5-32.6c-1.1-5.7-4.2-10.2-8.8-13.9l90.7-106.8l0,0h0.3h0.3l0,0l90.7,106.8
								c-4.5,3.7-7.6,8.2-8.8,13.9c-2,9.6,1.7,21.2,10.5,32.6c18.4,23.5,53.8,41.4,83,41.4l0,0c3.7,0,7.1-0.3,10.5-0.8
								c12.8-2.3,21.5-8.5,24.6-18.1c4-12.2-2-27.8-16.4-42.2c-17-17.3-43.1-30.3-66.9-33.4l-93.2-102L504,437.6
								c9.4,12.5,30.9,25.2,54.1,31.7c9.9,2.8,19.5,4.2,27.5,4.2c11.3,0,19.3-2.8,23-8.2C609.5,462.9,611.1,458.6,608.9,452.4z"/>
							<g>
								<path class="sgv-glyphicon" d="M269.2,274.2c-4.8,0-8.8,4-8.8,8.8c0,4.8,4,8.8,8.8,8.8s8.8-4,8.8-8.8C277.9,278.1,274,274.2,269.2,274.2z
									"/>
								<path class="sgv-glyphicon" d="M340.6,274.2c-4.8,0-8.8,4-8.8,8.8c0,4.8,4,8.8,8.8,8.8s8.8-4,8.8-8.8
									C349.4,278.1,345.4,274.2,340.6,274.2z"/>
							</g>
							<path class="sgv-glyphicon" d="M608.9,452.4c-6-16.4-33.1-36-59.8-43.1c-10.5-2.8-18.7-4-25.5-4c-7.4,0-12.8,1.7-16.4,4.8l-147.3-41.1
								l72.2-17.9c10.8,4,23.2,6.2,33.1,6.2c4.2,0,8.2-0.3,11.3-1.1c8.8-2.3,10.5-7.1,10.8-9.6c0.6-6.5-5.4-13.3-17.3-19
								c-12.5-6.2-28.9-10.2-42.2-10.2c-3.7,0-7.1,0.3-10.2,0.9c-8.2,1.7-10.8,5.7-11.6,8.8c-0.6,2-0.6,4.5,1.1,7.6l-42.2,9.9
								c7.1-15.3,13.9-35.7,13.9-58.7c0-0.8,0-1.4,0-2.3c0-0.6,0-1.1,0-1.7c0-5.4-0.6-11.1-1.4-16.1c-2-11.6-5.7-21.3-11.6-29.2
								c-13.6-21.8-36.5-34.8-60.6-34.8l0,0l0,0c-24.6,0-47.3,13-61.2,34.6c-5.9,7.9-9.6,17.3-11.6,29.2c-1.1,5.4-1.4,10.8-1.4,16.2
								c0,0.6,0,1.1,0,1.7c0,0.9,0,1.4,0,2.3c0,22.7,6.8,43.1,13.9,58.7l-42.2-9.9c1.7-3.1,1.7-5.7,1.1-7.6c-0.9-3.1-3.4-6.8-11.6-8.8
								c-2.8-0.6-6.2-0.9-10.2-0.9c-13.3,0-30,4-42.2,10.2c-11.9,5.9-17.8,12.8-17.3,19c0.3,2.5,2,7.4,10.8,9.6c3.1,0.9,7.1,1.1,11.3,1.1
								c9.9,0,22.4-2.3,33.2-6.2l72.5,18.1l-147.3,41.1c-3.7-3.4-9.1-4.8-16.4-4.8c-6.5,0-15,1.4-25.5,4C34.3,416.1,6.8,436,1.1,452.4
								c-2.3,6.2-0.6,10.5,1.1,13c3.7,5.4,11.6,8.2,22.9,8.2c7.9,0,17.6-1.4,27.5-4.2c23.2-6.5,44.8-19.3,54.1-31.7l164.3-46.2l-93.2,102
								c-23.8,3.1-49.9,15.9-66.9,33.4c-14.4,14.5-20.4,30-16.4,42.2c3.1,9.3,11.9,15.9,24.7,18.1c3.4,0.6,6.8,0.8,10.5,0.8l0,0
								c28.9,0,64.6-17.8,83-41.4c8.8-11.3,12.5-23,10.5-32.6c-1.1-5.7-4.2-10.2-8.8-13.9l90.7-106.8l0,0h0.3h0.3l0,0l90.7,106.8
								c-4.5,3.7-7.6,8.2-8.8,13.9c-2,9.6,1.7,21.2,10.5,32.6c18.4,23.5,53.8,41.4,83,41.4l0,0c3.7,0,7.1-0.3,10.5-0.8
								c12.8-2.3,21.5-8.5,24.6-18.1c4-12.2-2-27.8-16.4-42.2c-17-17.3-43.1-30.3-66.9-33.4l-93.2-102L504,437.6
								c9.4,12.5,30.9,25.2,54.1,31.7c9.9,2.8,19.5,4.2,27.5,4.2c11.3,0,19.3-2.8,23-8.2C609.5,462.9,611.1,458.6,608.9,452.4z
								 M600.7,460.6c-2,2.8-7.9,4.5-16.1,4.5c-7.4,0-16.2-1.4-25.2-4c-22.1-6.2-42.8-18.4-50.4-29.8c-0.6-0.9-1.4-1.4-2.3-1.7l-166.9-47
								L325,379c-0.3,0-0.3,0.3-0.6,0.3l0,0c-2,0.9-3.7,1.4-5.4,2L427.3,500c0.6,0.9,1.7,1.1,2.5,1.4c22.1,2.3,47.3,14.7,63.5,31.2
								c11.9,12.2,17.3,24.7,14.5,33.7c-2.5,8.2-11.3,11.3-18.1,12.5c-2.8,0.6-6,0.8-9.1,0.8c-26.1,0-59.8-16.7-76.2-38.2
								c-7.4-9.3-10.5-18.4-8.8-25.8c1.1-4.8,4-8.5,9.1-11c1.1-0.6,2-1.7,2.3-2.8c0.3-1.1,0-2.6-0.9-3.4l-90.7-106.8l0,0l-6-7.1
								c-0.9,0.3-1.7,0.3-2.5,0.6h-0.3c-0.3,0-0.6,0-0.9,0l0,0l0,0l0,0l0,0c-0.3,0-0.6,0-0.9,0h-0.3c-0.6,0-1.4-0.3-2.5-0.6l-6,7.1l0,0
								l-90.7,106.8c-0.9,0.9-1.1,2.3-0.9,3.4s1.1,2.3,2.3,2.8c4.8,2.6,7.9,6.2,9.1,11c1.7,7.1-1.7,16.4-8.8,25.8
								c-16.7,21.5-50.1,38.2-76.2,38.2c-3.1,0-6.2-0.3-9.1-0.8c-6.8-1.1-15.6-4.2-18.1-12.5c-2.8-9.1,2.6-21.8,14.4-33.7
								c15.9-16.1,41.4-28.6,63.5-31.2c1.1,0,2-0.6,2.6-1.4l108.2-118.7c-1.7-0.6-3.7-1.4-5.4-2l0,0c-0.3,0-0.3-0.3-0.6-0.3l-14.7,3.7
								l-168.6,47c-0.8,0.3-1.7,0.9-2.3,1.7c-7.7,11.3-28.3,23.5-50.4,29.8c-9.4,2.6-18.1,4-25.2,4c-7.9,0-14.2-1.7-16.1-4.5
								c-0.3-0.6-1.4-2-0.3-5.4c4.2-12.5,28.3-31.2,54.1-37.7c9.9-2.5,17.6-3.7,23.2-3.7c5.9,0,9.9,1.1,11.6,3.7c1.1,1.4,2.8,2,4.5,1.7
								l169.2-47.6c-0.6-0.6-1.4-1.1-1.7-1.7l-0.3-0.3c-0.6-0.6-0.9-0.8-1.1-1.4l0,0l0,0c-0.3-0.3-1.4-1.7-2.8-4l-11.6-2.5l0,0l-75.4-19
								c-0.3,0-0.6,0-1.1,0s-1.1,0-1.4,0.3c-10.2,4-21.8,6.2-31.4,6.2c-3.7,0-6.8-0.3-9.4-1.1c-3.1-0.9-4.5-2-4.5-2.6
								c0-1.4,2.8-5.9,12.8-10.8c11.1-5.7,26.6-9.3,38.5-9.3c3.1,0,5.9,0.3,8.2,0.8c3.7,0.9,5.1,2,5.4,2.6c0.3,0.6-0.6,2.5-3.4,5.1
								c-1.1,1.1-1.7,2.5-1.4,4.2c0.3,1.4,1.7,2.8,3.1,3.1l66.9,15c-8.5-14.5-21.2-40.5-21.2-70.3c0-0.9,0-1.4,0-2.3l0,0l0,0
								c0-0.6,0-1.1,0-1.7c0-4.8,0.6-9.9,1.4-14.7c1.7-10.5,5.1-19,10.2-25.8l0.3-0.3c11.9-19.6,32-31.2,53.6-31.2l0,0l0,0
								c21.5,0,41.6,11.6,53.8,30.9l0.3,0.3c5.1,6.8,8.5,15.3,10.2,25.8c0.9,4.8,1.4,9.9,1.4,14.7c0,0.6,0,1.1,0,1.7l0,0l0,0
								c0,0.9,0,1.4,0,2.3c0,29.8-12.8,56.1-21.2,70.3l66.6-15.3c1.4-0.3,2.8-1.4,3.1-3.1c0.3-1.4,0-3.1-1.4-4.2c-2.8-2.5-3.7-4.2-3.4-5.1
								c0.3-0.6,1.7-2,5.4-2.6c2.3-0.6,5.1-0.9,8.2-0.9c11.9,0,27.5,3.7,38.5,9.4c9.9,4.8,12.8,9.4,12.8,10.8c0,0.6-1.4,1.7-4.5,2.6
								c-2.5,0.6-5.7,1.1-9.4,1.1c-9.4,0-21.2-2.3-31.5-6.2c-0.6-0.3-0.9-0.3-1.4-0.3c-0.3,0-0.6,0-1.1,0l-75.4,18.7l0,0l-11.6,2.6
								c-1.4,2.3-2.6,3.7-2.8,4l0,0l0,0c-0.3,0.6-0.9,0.8-1.1,1.4l-0.3,0.3c-0.6,0.6-1.1,1.1-1.7,1.7l169.2,47.6c1.7,0.6,3.4-0.3,4.5-1.7
								c1.7-2.6,5.7-3.7,11.6-3.7s13.6,1.1,23.2,3.7c25.8,6.5,49.9,25.5,54.1,37.7C602.1,458.6,601.2,460,600.7,460.6z"/>
							<g>
								<path class="sgv-glyphicon" d="M306.9,350.4c-13,0-24.1-6.2-24.6-6.5c-1.7-0.9-2.3-3.1-1.4-4.8c1.1-1.7,3.1-2.3,4.8-1.4
									c0.3,0.3,21.8,12.2,38.2,0.3c1.7-1.1,4-0.8,5.1,0.9c1.1,1.7,0.9,4-0.9,5.1C321.3,348.7,313.6,350.4,306.9,350.4z"/>
							</g>
						</g>
						<circle class="sgv-glyphicon" cx="261.5" cy="254.3" r="4.8"/>
						<circle class="sgv-glyphicon" cx="286.4" cy="235.9" r="4.8"/>
						<path class="sgv-glyphicon" d="M280.5,242.2c0,4.5-3.7,8.2-8.2,8.2s-8.2-3.7-8.2-8.2c0-4.5,3.7-8.2,8.2-8.2S280.5,237.6,280.5,242.2z"/>
					</svg>
				</li>
				<li class="show-files-link" v-show="activeConnections.length" title="Files" v-on:click="showFiles">
					<span class="glyphicon glyphicon-duplicate"></span>
				</li>
				<li class="show-data-link" v-show="enableDatabaseOptions && activeConnections.length" title="Data" v-on:click="showData">
					<i class="fas fa-database"></i>
				</li>
			</ul>
			<div style="text-align: center; cursor: default;" v-on:mouseover="handleShowAllLables" v-on:mouseout="handleHideAllLabels" v-show="activeConnections.length">Status</div>
			<ul class="active-connections" v-bind:class="{ 'mouse-is-over': showAllLabels }">
				<active-connection v-for="(con, index) in activeConnections" v-bind:con="con" v-bind:index="index" v-bind:connections="activeConnections.length"></active-connection>
			</ul>
		</div>
	`;

	Vue.component(componentName, {
		created: function() {
			viewController.registerView(componentName, this);
		},
		template: s,
		data: function() {
			return {
				activeConnections: [],
				showAllLabels: false,
				enableDatabaseOptions: false
			}
		},
		methods: {
			setDatabaseOptionsEnabled: function(bool) {
				this.enableDatabaseOptions = bool;
			},
			showHome: function(e) {
				controller.showHomePage();
				this.setSelected(".show-home-link");
			},
			showConnections: function(e) {
				controller.showConnectionsPage();
				this.setSelected(".show-connections-link");
			},
			showData: function(e) {
				controller.showDataPage();
				this.setSelected(".show-data-link");
			},
			showFiles: function(e) {
				controller.showFilesPage();
				this.setSelected(".show-files-link");
			},
			handleShowAllLables: function(e) {
				e.preventDefault();
				this.showAllLabels = true;
			},
			handleHideAllLabels: function(e) {
				e.preventDefault();
				this.showAllLabels = false;
			},
			setConnectionStatus: function(data) {
				this.activeConnections = data;
			},
			setSelected: function(type) {
				var $categories = $("ul.categories");
				$categories.find(".selected").removeClass("selected");
				$categories.find(type).addClass("selected");
			}
		}
	});
})();
